<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <link crossorigin="anonymous" media="all"
    integrity="sha512-ZUjVod2EvYMDbGqRSyW0rpfgBq3i+gnR/4PfrzLsy5f20oIcRfgFQFVKgi3Ztp917bP1K/kdP5q8+nAlJ3+cFA=="
    rel="stylesheet" href="https://github.githubassets.com/assets/frameworks-6548d5a1dd84bd83036c6a914b25b4ae.css" />
  <link crossorigin="anonymous" media="all"
    integrity="sha512-CKBn/UfyE+yEuqeavkB8Y5xld809yQJ0Evsa+pOoHP8jlBS0TGBeKIiOs17M57SuJMEZl3wjXuB2pexW8oEeuA=="
    rel="stylesheet" href="https://github.githubassets.com/assets/github-08a067fd47f213ec84baa79abe407c63.css" />
  <meta name="viewport" content="width=device-width">
  <title>MongoDB Cheat Sheet</title>
  <link rel="fluid-icon" href="https://gist.github.com/fluidicon.png" title="GitHub">
  <link crossorigin="anonymous" media="all"
    integrity="sha512-5hVNC4CXyolsNW7Su6XRzySIA8wItt7030sh1rRwjvqH5aASFMWfrEXSkuyWvgYPRZQSUmHqNBNQ+8N3kZ61fQ=="
    rel="stylesheet" href="https://github.githubassets.com/assets/gist-e6154d0b8097ca896c356ed2bba5d1cf.css" />
  <link rel="mask-icon" href="https://github.githubassets.com/pinned-octocat.svg" color="#000000">
  <link rel="icon" type="image/x-icon" class="js-site-favicon" href="https://github.githubassets.com/favicon.ico">
  <meta name="theme-color" content="#1e2327">
</head>

<body class="logged-in env-production min-width-lg">
  <div class="application-main " data-commit-hovercards-enabled>
    <div itemscope itemtype="http://schema.org/Code">
      <main id="gist-pjax-container" class="gist-content-wrapper" data-pjax-container>
        <div class="container-lg px-3 new-discussion-timeline">
          <div class="repository-content gist-content">
            <div>
              <div class="js-gist-file-update-container js-task-list-container file-box">
                <div id="file-mongodb_cheat_sheet-md" class="file">
                  <div id="file-mongodb_cheat_sheet-md-readme" class="Box-body readme blob js-code-block-container">
                    <article class="markdown-body entry-content p-5" itemprop="text">
                      <h1>MongoDB Cheat Sheet</h1>

                      <h2>Show All Databases</h2>
                      <pre><code>show dbs</code></pre>

                      <h2>Show Current Database</h2>
                      <pre><code>db</code></pre>

                      <h2>Create Or Switch Database</h2>
                      <pre><code>use acme</code></pre>

                      <h2>Drop</h2>
                      <pre><code>db.dropDatabase()</code></pre>

                      <h2>Create Collection</h2>
                      <pre><code>db.createCollection('posts')</code></pre>

                      <h2>Show Collections</h2>
                      <pre><code>show collections</code></pre>

                      <h2>Insert Row</h2>
                      <pre><code>db.posts.insert({
                        title: 'Post One',
                        body: 'Body of post one',
                        category: 'News',
                        tags: ['news', 'events'],
                        user: {
                          name: 'John Doe',
                          status: 'author'
                        },
                        date: Date()
                      })
                      </code></pre>

                      <h2>Insert Multiple Rows</h2>
                      <pre><code>db.posts.insertMany([
                        {
                          title: 'Post Two',
                          body: 'Body of post two',
                          category: 'Technology',
                          date: Date()
                        },
                        {
                          title: 'Post Three',
                          body: 'Body of post three',
                          category: 'News',
                          date: Date()
                        },
                        {
                          title: 'Post Four',
                          body: 'Body of post three',
                          category: 'Entertainment',
                          date: Date()
                        }
                      ])
                      </code></pre>

                      <h2>Get All Rows</h2>
                      <pre><code>db.posts.find()</code></pre>

                      <h2>Get All Rows Formatted</h2>
                      <pre><code>db.find().pretty()</code></pre>

                      <h2>>Find Rows</h2>
                      <pre><code>db.posts.find({ category: 'News' })</code></pre>

                      <h2>Sort Rows</h2>
                      <pre><code># asc
                        db.posts.find().sort({ title: 1 }).pretty()
                        # desc
                        db.posts.find().sort({ title: -1 }).pretty()
                      </code></pre>

                      <h2>Count Rows</h2>
                      <pre><code>db.posts.find().count()
                        db.posts.find({ category: 'news' }).count()
                      </code></pre>

                      <h2>Limit Rows</h2>
                      <pre><code>db.posts.find().limit(2).pretty()</code></pre>

                      <h2>Chaining</h2>
                      <pre><code>db.posts.find().limit(2).sort({ title: 1 }).pretty()</code></pre>

                      <h2>Foreach</h2>
                      <pre><code>db.posts.find().forEach(function(doc) {
  print("Blog Post: " + doc.title)
})
                      </code></pre>

                      <h2>Find One Row</h2>
                      <pre><code>db.posts.findOne({ category: 'News' })</code></pre>

                      <h2>Find Specific Fields</h2>
                      <pre><code>db.posts.find({ title: 'Post One' }, {
  title: 1,
  author: 1
})
                      </code></pre>

                      <h2>Update Row</h2>
                      <pre><code>db.posts.update({ title: 'Post Two' },
{
  title: 'Post Two',
  body: 'New body for post 2',
  date: Date()
},
{
  upsert: true
})
                      </code></pre>

                      <h2>Update Specific Field</h2>
                      <pre><code>db.posts.update({ title: 'Post Two' },
{
  $set: {
    body: 'Body for post 2',
    category: 'Technology'
  }
})
                      </code></pre>

                      <h2>Increment Field ($inc)</h2>
                      <pre><code>db.posts.update({ title: 'Post Two' },
{
  $inc: {
    likes: 5
  }
})
                      </code></pre>

                      <h2>Rename Field</h2>
                      <pre><code>db.posts.update({ title: 'Post Two' },
{
  $rename: {
    likes: 'views'
  }
})
                      </code></pre>

                      <h2>Delete Row</h2>
                      <pre><code>db.posts.remove({ title: 'Post Four' })</code></pre>

                      <h2>Sub-Documents</h2>
                      <pre><code>db.posts.update({ title: 'Post One' },
{
  $set: {
    comments: [
      {
        body: 'Comment One',
        user: 'Mary Williams',
        date: Date()
      },
      {
        body: 'Comment Two',
        user: 'Harry White',
        date: Date()
      }
    ]
  }
})
                      </code></pre>

                      <h2>Find By Element in Array ($elemMatch)</h2>
                      <pre><code>db.posts.find({
  comments: {
     $elemMatch: {
       user: 'Mary Williams'
       }
    }
  }
)
                      </code></pre>

                      <h2>Add Index</h2>
                      <pre><code>db.posts.createIndex({ title: 'text' })</code></pre>

                      <h2>Text Search</h2>
                      <pre><code>db.posts.find({
  $text: {
    $search: "\"Post O\""
    }
})
                      </code></pre>

                      <h2>Greater &amp; Less Than</h2>
                      <pre><code>db.posts.find({ views: { $gt: 2 } })
db.posts.find({ views: { $gte: 7 } })
db.posts.find({ views: { $lt: 7 } })
db.posts.find({ views: { $lte: 7 } })
</code></pre>
                    </article>
                  </div>

                </div>
              </div>
</body>

</html>